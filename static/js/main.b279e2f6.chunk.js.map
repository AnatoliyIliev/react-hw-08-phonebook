{"version":3,"sources":["redux/contacts/actions.js","redux/contacts/operations.js","redux/contacts/selectors.js","redux/contacts/reduser.js","components/Container/Container.js","components/Container/Container.module.css","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/UserMenu/avatar.png","components/AuthNav/AuthNav.js","components/AppBar.js","components/PublicRoute.js","components/PrivateRoute.js","App.js","redux/store.js","index.js"],"names":["fetchContactsRequest","createAction","fetchContactSuccess","fetchContactError","addContactsRequest","addContactSuccess","addContactError","deleteContactsRequest","deleteContactSuccess","deleteContactError","changeFilter","fetchContacts","dispatch","a","axios","get","then","name","number","console","log","catch","error","addContacts","contact","post","data","deleteContacts","id","delete","getFilter","state","contacts","filter","getLoading","loading","getVisibleContacts","createSelector","items","normalizedFilter","toLowerCase","includes","createReducer","_","payload","some","alert","combineReducers","Container","children","className","styles","container","module","exports","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","logIn","logOut","fetchCurrentUser","thunkAPI","getState","persistedToken","auth","rejectWithValue","authSelectors","getIsLoggedIn","isLoggedIn","getUsername","user","getIsFetchingCurrent","isFetchingCurrentUser","authSlice","createSlice","initialState","email","extraReducers","authOperations","fulfilled","action","pending","rejected","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","useSelector","to","exact","style","activeStyle","alignItems","avatar","marginRight","UserMenu","useDispatch","src","alt","width","type","onClick","AuthNav","header","justifyContent","borderBottom","AppBar","PublicRoute","redirectTo","routeRrops","restricted","shouldRedirect","PrivateRoute","HomeView","lazy","RegisterView","LoginView","ContactsView","App","useEffect","fallback","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b279e2f6.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  'contacts/fetchContactRequest',\r\n);\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactsRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactsRequest = createAction('contacts/addContactRequest');\r\nexport const deleteContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const deleteContactError = createAction('contacts/addContactError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');\r\n","import axios from 'axios';\nimport {\n  addContactsRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactsRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  fetchContactsRequest,\n  fetchContactSuccess,\n  fetchContactError,\n} from './actions';\n\n// axios.defaults.baseURL = 'http://localhost:4040';\n\nconst fetchContacts = () => async dispatch => {\n  dispatch(fetchContactsRequest());\n\n  await axios\n    .get('/contacts')\n    .then(({ name, number }) =>\n      console.log('operations-fetchContacts', (name, number)),\n    )\n    // .then((name, number) => dispatch(fetchContactSuccess(name, number)))\n    .then(({ name, number }) => dispatch(fetchContactSuccess(name, number)))\n    .catch(error => dispatch(fetchContactError(error)));\n};\n\nconst addContacts = (name, number) => dispatch => {\n  console.log('operations-addContacts', name, number);\n  const contact = { name, number };\n  dispatch(addContactsRequest());\n\n  axios\n    .post('/contacts', contact)\n    .then(({ data }) => dispatch(addContactSuccess(data)))\n    .catch(error => dispatch(addContactError(error)));\n};\n\nconst deleteContacts = id => dispatch => {\n  dispatch(deleteContactsRequest());\n  axios\n    .delete(`/contacts/${id}`)\n    .then(() => dispatch(deleteContactSuccess(id)))\n    .catch(error => dispatch(deleteContactError(error)));\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  fetchContacts,\n  addContacts,\n  deleteContacts,\n};\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getLoading = state => state.contacts.loading;\r\nconst getFilter = state => state.contacts.filter;\r\nconst getAllContacts = state => state.contacts.items;\r\n\r\n// Мемоизация\r\nconst getVisibleContacts = createSelector(\r\n  [getAllContacts, getFilter],\r\n  (contacts, filter) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n\r\n    return contacts.filter(contact =>\r\n      contact.name.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  },\r\n);\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  getLoading,\r\n  getFilter,\r\n  getVisibleContacts,\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContactsRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactsRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  changeFilter,\r\n  fetchContactsRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n} from './actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => {\r\n    // console.log(state);\r\n    const repeatСontact = state.some(contact => contact.name === payload.name);\r\n    if (repeatСontact) {\r\n      alert(`${payload.name} is already in contacts.`);\r\n      return state;\r\n    }\r\n\r\n    return [...state, payload];\r\n  },\r\n\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(contact => contact.id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n  [addContactsRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactsRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [addContactError]: (_, { payload }) => payload,\r\n  [deleteContactError]: (_, { payload }) => payload,\r\n  [fetchContactError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n  error,\r\n});\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={styles.container}>{children}</div>\r\n);\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__fpIq5\"};","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    //  Добавить обработку ошибки error.message\n  }\n});\n\n/*\n * POST @ /users/login\n * body: { email, password }\n * После успешного логина добавляем токен в HTTP-заголовок\n */\nconst logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    //  Добавить обработку ошибки error.message\n  }\n});\n\n/*\n * POST @ /users/logout\n * headers: Authorization: Bearer token\n * После успешного логаута, удаляем токен из HTTP-заголовка\n */\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n  } catch (error) {\n    //  Добавить обработку ошибки error.message\n  }\n});\n\nconst fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      console.log('Токена нет, уходим из fetchCurrentUser');\n      return thunkAPI.rejectWithValue();\n      // return state;\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      //  Добавить обработку ошибки error.message\n    }\n  },\n);\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { register, logIn, logOut, fetchCurrentUser };\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nconst getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n  getIsFetchingCurrent,\r\n};\r\nexport default authSelectors;\r\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isFetchingCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      console.log('auth-slise-action-register', action);\n      console.log('auth-slise-state-register', state);\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      console.log('auth-slise-action-logIn', action);\n      console.log('auth-slise-state-logIn', state);\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n    [authOperations.logOut.fulfilled](state, _) {\n      // сброс в начальное состояние\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isFetchingCurrentUser = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isFetchingCurrentUser = false;\n    },\n    [authOperations.fetchCurrentUser.rejected](state) {\n      state.isFetchingCurrentUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n        Главная\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <>\r\n          <NavLink\r\n            to=\"/contacts\"\r\n            exact\r\n            style={styles.link}\r\n            activeStyle={styles.activeLink}\r\n          >\r\n            Главная\r\n          </NavLink>\r\n          {/* <NavLink\r\n            to=\"/upload\"\r\n            exact\r\n            style={styles.link}\r\n            activeStyle={styles.activeLink}\r\n          >\r\n            Загрузить\r\n          </NavLink> */}\r\n        </>\r\n      )}\r\n\r\n      {/* <NavLink\r\n      to=\"/todos\"\r\n      exact\r\n      style={styles.link}\r\n      activeStyle={styles.activeLink}\r\n    >\r\n      Заметки\r\n    </NavLink> */}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport defaultAvatar from './avatar.png';\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    marginRight: 4,\r\n  },\r\n  name: {\r\n    fontWeight: 700,\r\n    marginRight: 12,\r\n  },\r\n};\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUsername);\r\n  const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\r\n      <span style={styles.name}>Добро пожаловать, {name}</span>\r\n      <button type=\"button\" onClick={() => dispatch(authOperations.logOut())}>\r\n        Выйти\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nconst AuthNav = () => (\r\n  <div>\r\n    <NavLink\r\n      to=\"/register\"\r\n      exact\r\n      style={styles.link}\r\n      activeStyle={styles.activeLink}\r\n    >\r\n      Регистрация\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/login\"\r\n      exact\r\n      style={styles.link}\r\n      activeStyle={styles.activeLink}\r\n    >\r\n      Логин\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from './Navigation';\r\nimport UserMenu from './UserMenu';\r\nimport AuthNav from './AuthNav';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nconst styles = {\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #2A363B',\r\n  },\r\n};\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header style={styles.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PublicRoute({\r\n  redirectTo = '/',\r\n  children,\r\n  restricted = false,\r\n  ...routeRrops\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  //   const shouldRedirect = isLoggedIn && routeRrops.restricted;\r\n  const shouldRedirect = isLoggedIn && routeRrops.restricted;\r\n  return (\r\n    <Route {...routeRrops}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n      {/* {shouldRedirect ? <Redirect to=\"/contacts\" /> : children} */}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\nimport { Redirect, Route } from 'react-router';\nimport { authSelectors } from '../redux/auth';\n\nexport default function PrivateRoute({\n  // component: Cpmponent,\n  redirectTo = '/',\n  children,\n  ...routeRrops\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeRrops}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n      {/* {isLoggedIn ? children : <Redirect to=\"/login\" />} */}\n    </Route>\n  );\n}\n","import { Switch } from 'react-router-dom';\nimport React, { useEffect, lazy, Suspense } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authOperations, authSelectors } from './redux/auth';\n\nimport Container from './components/Container';\nimport AppBar from './components/AppBar';\nimport PublicRoute from './components/PublicRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\nconst HomeView = lazy(() => import('./views/HomeView'));\nconst RegisterView = lazy(() => import('./views/LoginView'));\nconst LoginView = lazy(() => import('./views/LoginView'));\nconst ContactsView = lazy(() => import('./views/ContactsView'));\n// const UploadView = lazy(() => import('./views/UploadView'));\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    !isFetchingCurrentUser && (\n      <Container>\n        <AppBar />\n\n        <Switch>\n          <Suspense fallback={<div>Loading...</div>}>\n            <PublicRoute exact path=\"/\">\n              <HomeView />\n            </PublicRoute>\n\n            <PrivateRoute exact path=\"/register\" restricted>\n              <RegisterView />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/login\" redirectTo=\"/contacts\" restricted>\n              <LoginView />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n              <ContactsView />\n            </PrivateRoute>\n\n            {/* <PrivateRoute path=\"/upload\" redirectTo=\"/login\">\n              <UploadView />\n            </PrivateRoute> */}\n          </Suspense>\n        </Switch>\n      </Container>\n    )\n  );\n}\n\nexport default App;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n  REHYDRATE,\n} from 'redux-persist';\n// import logger from 'redux-logger';\nimport storage from 'redux-persist/lib/storage';\nimport { contactsReducer } from './contacts';\nimport { authReducer } from './auth';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  // logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './App.scss';\r\nimport App from './App';\r\nimport { store, persistor } from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}